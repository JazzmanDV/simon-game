!function(){function t(t,o,e,r,n,i,a){try{var s=t[i](a),d=s.value}catch(l){return void e(l)}s.done?o(d):Promise.resolve(d).then(r,n)}function o(o){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=o.apply(e,r);function s(o){t(a,n,i,s,d,"next",o)}function d(o){t(a,n,i,s,d,"throw",o)}s(void 0)}))}}function e(t,o,e){return o in t?Object.defineProperty(t,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[o]=e,t}function r(t,o){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,o){if(!t)return;if("string"==typeof t)return n(t,o);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return n(t,o)}(t))||o&&t&&"number"==typeof t.length){e&&(t=e);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,d=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return s=t.done,t},e:function(t){d=!0,a=t},f:function(){try{s||null==e.return||e.return()}finally{if(d)throw a}}}}function n(t,o){(null==o||o>t.length)&&(o=t.length);for(var e=0,r=new Array(o);e<o;e++)r[e]=t[e];return r}var i=document.createElement("style");i.innerHTML='.color-button[data-v-534fcc4f]{width:7rem;height:7rem;border:none;-webkit-box-shadow:0 0 12px rgba(0,0,0,.3);-moz-box-shadow:0 0 12px rgba(0,0,0,.3);box-shadow:0 0 12px rgba(0,0,0,.3);-webkit-box-shadow:var(--primary-box-shadow--hovered);-moz-box-shadow:var(--primary-box-shadow--hovered);box-shadow:var(--primary-box-shadow--hovered);opacity:.4;cursor:pointer;-webkit-transition:.25s opacity,.25s -webkit-box-shadow;transition:.25s opacity,.25s -webkit-box-shadow;-o-transition:.25s opacity,.25s box-shadow;-moz-transition:.25s opacity,.25s box-shadow,.25s -moz-box-shadow;transition:.25s opacity,.25s box-shadow;transition:.25s opacity,.25s box-shadow,.25s -webkit-box-shadow,.25s -moz-box-shadow}.color-button[data-v-534fcc4f]:active,.color-button--active[data-v-534fcc4f]{opacity:1}@media (hover: hover) and (pointer: fine){.color-button--green[data-v-534fcc4f]:hover{border-top:2px solid black;border-top:var(--primary-border);border-left:2px solid black;border-left:var(--primary-border)}.color-button--red[data-v-534fcc4f]:hover{border-top:2px solid black;border-top:var(--primary-border);border-right:2px solid black;border-right:var(--primary-border)}.color-button--yellow[data-v-534fcc4f]:hover{border-bottom:2px solid black;border-bottom:var(--primary-border);border-left:2px solid black;border-left:var(--primary-border)}.color-button--blue[data-v-534fcc4f]:hover{border-bottom:2px solid black;border-bottom:var(--primary-border);border-right:2px solid black;border-right:var(--primary-border)}}.color-button--green[data-v-534fcc4f]{-webkit-border-top-left-radius:100%;-moz-border-radius-topleft:100%;border-top-left-radius:100%;background-color:#00ad00}.color-button--red[data-v-534fcc4f]{-webkit-border-top-right-radius:100%;-moz-border-radius-topright:100%;border-top-right-radius:100%;background-color:red}.color-button--yellow[data-v-534fcc4f]{-webkit-border-bottom-left-radius:100%;-moz-border-radius-bottomleft:100%;border-bottom-left-radius:100%;background-color:#ff0}.color-button--blue[data-v-534fcc4f]{-webkit-border-bottom-right-radius:100%;-moz-border-radius-bottomright:100%;border-bottom-right-radius:100%;background-color:#006eff}.menu[data-v-595a3979]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:1rem}.menu__input[data-v-595a3979]{font:inherit;min-width:7rem;padding:.5rem;border:none;-webkit-border-radius:.5rem;-moz-border-radius:.5rem;border-radius:.5rem;outline:none;background-color:#fff;-webkit-box-shadow:0 0 5px rgba(0,0,0,.2);-moz-box-shadow:0 0 5px rgba(0,0,0,.2);box-shadow:0 0 5px rgba(0,0,0,.2);-webkit-box-shadow:var(--primary-box-shadow);-moz-box-shadow:var(--primary-box-shadow);box-shadow:var(--primary-box-shadow);cursor:pointer;-webkit-transition:.25s -webkit-box-shadow;transition:.25s -webkit-box-shadow;-o-transition:.25s box-shadow;-moz-transition:.25s box-shadow,.25s -moz-box-shadow;transition:.25s box-shadow;transition:.25s box-shadow,.25s -webkit-box-shadow,.25s -moz-box-shadow}.menu__input[data-v-595a3979]:hover,.menu__input.focus-visible[data-v-595a3979]{-webkit-box-shadow:0 0 12px rgba(0,0,0,.3);-moz-box-shadow:0 0 12px rgba(0,0,0,.3);box-shadow:0 0 12px rgba(0,0,0,.3);-webkit-box-shadow:var(--primary-box-shadow--hovered);-moz-box-shadow:var(--primary-box-shadow--hovered);box-shadow:var(--primary-box-shadow--hovered)}.menu__input[data-v-595a3979]:hover,.menu__input[data-v-595a3979]:focus-visible{-webkit-box-shadow:0 0 12px rgba(0,0,0,.3);-moz-box-shadow:0 0 12px rgba(0,0,0,.3);box-shadow:0 0 12px rgba(0,0,0,.3);-webkit-box-shadow:var(--primary-box-shadow--hovered);-moz-box-shadow:var(--primary-box-shadow--hovered);box-shadow:var(--primary-box-shadow--hovered)}.menu__input[data-v-595a3979]:active{-webkit-box-shadow:0 0 5px rgba(0,0,0,.2);-moz-box-shadow:0 0 5px rgba(0,0,0,.2);box-shadow:0 0 5px rgba(0,0,0,.2);-webkit-box-shadow:var(--primary-box-shadow);-moz-box-shadow:var(--primary-box-shadow);box-shadow:var(--primary-box-shadow)}:root{--primary-box-shadow: 0 0 5px rgba(0, 0, 0, .2);--primary-box-shadow--hovered: 0 0 12px rgba(0, 0, 0, .3);--primary-border: 2px solid black}:root{font-family:"Exo 2",sans-serif;font-weight:300;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{margin:0}h2{font-weight:600;margin-top:.75rem;margin-bottom:.75rem}.app[data-v-3d7b4542]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;gap:2rem;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;max-width:70rem;margin-left:auto;margin-right:auto;padding:1rem}.playing-field[data-v-3d7b4542]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:5rem}.you-lost-message[data-v-3d7b4542]{text-align:center;opacity:0;-webkit-transition:.25s opacity;-o-transition:.25s opacity;-moz-transition:.25s opacity;transition:.25s opacity}.you-lost-message--visible[data-v-3d7b4542]{opacity:1}.button-set[data-v-3d7b4542]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:.5rem;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.button-row[data-v-3d7b4542]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;gap:.5rem}\n',document.head.appendChild(i),System.register(["./vendor-legacy.0e592d42.js"],(function(){"use strict";var t;return{setters:[function(o){t=o.V}],execute:function(){function n(t,o,e,r,n,i,a,s){var d,l="function"==typeof t?t.options:t;if(o&&(l.render=o,l.staticRenderFns=e,l._compiled=!0),r&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),a?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=d):n&&(d=s?function(){n.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:n),d)if(l.functional){l._injectStyles=d;var c=l.render;l.render=function(t,o){return d.call(o),c(t,o)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,d):[d]}return{exports:t,options:l}}var i={name:"ColorButton",props:{color:String,isActive:Boolean,onColorButtonClick:Function},methods:{getDynamicClass:function(){var t;return e(t={},"color-button--".concat(this.color),this.color),e(t,"color-button--active",this.isActive),t}}},a={},s=n(i,(function(){var t=this,o=t.$createElement;return(t._self._c||o)("button",{staticClass:"color-button",class:t.getDynamicClass(),attrs:{value:t.color},on:{click:t.onColorButtonClick}})}),[],!1,d,"534fcc4f",null,null);function d(t){for(var o in a)this[o]=a[o]}var l=function(){return s.exports}(),c={name:"Menu",props:{isGameStarted:Boolean,round:Number,difficulty:String,onStartButtonClick:Function},methods:{onSelectChange:function(t){this.$emit("selectChange",t.target.value)}}},u={},b=n(c,(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"menu"},[e("div",[e("h2",[t._v("Раунд: "+t._s(t.isGameStarted?t.round:"-"))]),e("button",{staticClass:"menu__input",attrs:{disabled:t.isGameStarted},on:{click:t.onStartButtonClick}},[t._v("Начать")])]),e("div",[e("h2",[t._v("Сложность:")]),e("select",{staticClass:"menu__input",attrs:{disabled:t.isGameStarted},domProps:{value:t.difficulty},on:{change:t.onSelectChange}},[e("option",{attrs:{value:"easy"}},[t._v("Легкая")]),e("option",{attrs:{value:"medium"}},[t._v("Нормальная")]),e("option",{attrs:{value:"hard"}},[t._v("Сложная")])])])])}),[],!1,m,"595a3979",null,null);function m(t){for(var o in u)this[o]=u[o]}var h={},f=n({name:"App",components:{ColorButton:l,Menu:function(){return b.exports}()},data:function(){return{round:1,lastCompletedRound:null,isGameStarted:!1,isWaitingForAnswer:!1,rightAnswers:[],currentRightAnswerIndex:0,difficulty:"easy",difficultyDelay:{easy:1500,medium:1e3,hard:400},colorButtons:{green:{name:"green",isActive:!1},red:{name:"red",isActive:!1},yellow:{name:"yellow",isActive:!1},blue:{name:"blue",isActive:!1}},sounds:{green:new Audio("sounds/green.mp3"),red:new Audio("sounds/red.mp3"),yellow:new Audio("sounds/yellow.mp3"),blue:new Audio("sounds/blue.mp3"),error:new Audio("sounds/error.wav")}}},methods:{onSelectChange:function(t){this.difficulty=t},onStartButtonClick:function(){this.startTheGame()},onColorButtonClick:function(t){this.isGameStarted?this.isWaitingForAnswer&&(t.target.value===this.rightAnswers[this.currentRightAnswerIndex].name?(this.playSound(this.sounds[t.target.value]),this.currentRightAnswerIndex++,this.currentRightAnswerIndex===this.rightAnswers.length&&this.goNextRound()):this.loseTheGame()):this.playSound(this.sounds[t.target.value])},getRandomInt:function(t,o){var e=t+Math.random()*(o+1-t);return Math.floor(e)},getRandomColorButton:function(){var t=Object.entries(this.colorButtons)[this.getRandomInt(0,3)][0];return this.colorButtons[t]},delay:function(t,o){return new Promise((function(e){return setTimeout((function(){t(),e()}),o)}))},addNextColorButton:function(){var t=this.getRandomColorButton();this.rightAnswers.push(t)},playSound:function(t){new Audio(t.src).play()},playRound:function(){var t=this;return o(regeneratorRuntime.mark((function o(){var e,n,i;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:t.isWaitingForAnswer=!1,e=r(t.rightAnswers),o.prev=2,i=regeneratorRuntime.mark((function o(){var e;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return e=n.value,t.playSound(t.sounds[e.name]),e.isActive=!0,o.next=5,t.delay((function(){e.isActive=!1}),t.difficultyDelay[t.difficulty]-100);case 5:return o.next=7,t.delay((function(){}),100);case 7:case"end":return o.stop()}}),o)})),e.s();case 5:if((n=e.n()).done){o.next=9;break}return o.delegateYield(i(),"t0",7);case 7:o.next=5;break;case 9:o.next=14;break;case 11:o.prev=11,o.t1=o.catch(2),e.e(o.t1);case 14:return o.prev=14,e.f(),o.finish(14);case 17:t.isWaitingForAnswer=!0;case 18:case"end":return o.stop()}}),o,null,[[2,11,14,17]])})))()},goNextRound:function(){var t=this;return o(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t.round++,t.currentRightAnswerIndex=0,t.isWaitingForAnswer=!1,o.next=5,t.delay((function(){}),800);case 5:t.addNextColorButton(),t.playRound();case 7:case"end":return o.stop()}}),o)})))()},startTheGame:function(){this.lastCompletedRound=null,this.isGameStarted=!0,this.addNextColorButton(),this.playRound()},restartTheGame:function(){this.round=1,this.isGameStarted=!1,this.isWaitingForAnswer=!1,this.rightAnswers=[],this.currentRightAnswerIndex=0},loseTheGame:function(){this.lastCompletedRound=this.round-1,this.playSound(this.sounds.error),this.restartTheGame()}}},(function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"app"},[e("h2",{staticClass:"you-lost-message",class:{"you-lost-message--visible":null!==t.lastCompletedRound}},[t._v(" Вы проиграли! Пройдено раундов: "+t._s(t.lastCompletedRound)+" ")]),e("div",{staticClass:"playing-field"},[e("div",{staticClass:"button-set"},[e("div",{staticClass:"button-row"},[e("ColorButton",{attrs:{color:"green",isActive:t.colorButtons.green.isActive,onColorButtonClick:t.onColorButtonClick}}),e("ColorButton",{attrs:{color:"green",isActive:t.colorButtons.red.isActive,onColorButtonClick:t.onColorButtonClick}})],1),e("div",{staticClass:"button-row"},[e("ColorButton",{attrs:{color:"yellow",isActive:t.colorButtons.yellow.isActive,onColorButtonClick:t.onColorButtonClick}}),e("ColorButton",{attrs:{color:"blue",isActive:t.colorButtons.blue.isActive,onColorButtonClick:t.onColorButtonClick}})],1)]),e("Menu",{attrs:{isGameStarted:t.isGameStarted,round:t.round,onStartButtonClick:t.onStartButtonClick,difficulty:t.difficulty},on:{selectChange:t.onSelectChange}})],1)])}),[],!1,p,"3d7b4542",null,null);function p(t){for(var o in h)this[o]=h[o]}var x=function(){return f.exports}();new t({render:function(t){return t(x)}}).$mount("#app")}}}))}();
